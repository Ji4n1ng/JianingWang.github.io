<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            乐驾 - 语义理解算法 | 
        
        Jianing&#39;s Blog
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
        <link rel="dns-prefetch" href="https://hm.baidu.com"/>
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Jianing Wang">
    <meta name="description" itemprop="description" content="前言介绍乐驾在做语义理解与语音控制的过程和思路. 算法是在讯飞提供分词的基础上来实现的.">
    <meta name="keywords" content=",Swift,iOS,Algorithm">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="http://on74pxnsk.bkt.clouddn.com/JN-blue-medium.png">
    <link rel="icon" sizes="192x192" href="http://on74pxnsk.bkt.clouddn.com/JN-blue.png">
    <link rel="apple-touch-icon" href="http://on74pxnsk.bkt.clouddn.com/JN-blue-medium.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Jianing&#39;s Blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="乐驾 - 语义理解算法 | Jianing&#39;s Blog">
    <meta property="og:image" content="http://on74pxnsk.bkt.clouddn.com/JN-blue.png" />
    <meta property="og:description" content="前言介绍乐驾在做语义理解与语音控制的过程和思路. 算法是在讯飞提供分词的基础上来实现的.">
    <meta property="og:article:tag" content="Swift"> <meta property="og:article:tag" content="iOS"> <meta property="og:article:tag" content="Algorithm"> 

    
        <meta property="article:published_time" content="6月 14, 2017" />
        <meta property="article:modified_time" content="9月 08, 2017" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="乐驾 - 语义理解算法 | Jianing&#39;s Blog">
    <meta name="twitter:description" content="前言介绍乐驾在做语义理解与语音控制的过程和思路. 算法是在讯飞提供分词的基础上来实现的.">
    <meta name="twitter:image" content="http://on74pxnsk.bkt.clouddn.com/JN-blue.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://yoursite.com" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Jianing&#39;s Blog",
        "logo": "http://on74pxnsk.bkt.clouddn.com/JN-blue.png"
    },
    "author": {
        "@type": "Person",
        "name": "Jianing Wang",
        "image": {
            "@type": "ImageObject",
            "url": "http://on74pxnsk.bkt.clouddn.com/JN-blue-medium.png"
        },
        "description": "Night gets darkest right before dawn"
    },
    "headline": "乐驾 - 语义理解算法",
    "url": "http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html",
    "datePublished": "6月 14, 2017",
    "dateModified": "9月 08, 2017",
    "description": "前言介绍乐驾在做语义理解与语音控制的过程和思路. 算法是在讯飞提供分词的基础上来实现的.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://yoursite.com"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    .footer-sns-twitter {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHptNTMyLjggMjA1YzEwIDQgMjMgMTAuOCAyOC44IDE1LjIgMTIuNiA5LjIgMTYuNiAxMC42IDI5LjQgOS40IDYuNi0uNiAxMy0zLjIgMjAuNC04LjIgMTEuMi03LjYgMTkuNC05LjIgMjMuNi01IDMuNiAzLjYgMi44IDktMi44IDE4LjYtNy4yIDEyLjQtNiAxOC44IDQuMiAyNC4yIDQuNCAyLjIgOC4yIDUuNiA4LjYgNy40IDEgNC44LTEyLjYgMjQuMi0yMiAzMS44LTExLjggOS4yLTE3LjIgMjIuNi0xOS42IDQ3LjgtNC44IDUwLjQtNy44IDY2LjYtMTYuNCA4NS40LTMgNy03IDE3LjgtOC44IDI0LTEuOCA2LjQtNSAxNC42LTcuNCAxOC40LTIuMiAzLjgtNy40IDEzLTExLjQgMjAuNC0xNy4yIDMwLjgtNDMuNCA2MS40LTcxLjQgODMuOC0yNS42IDIwLjQtNDYgMzMuMi02NC4yIDQwLjItOC40IDMuMi0xOCA3LjYtMjEuNCA5LjYtNy40IDQuNi0yMi40IDguNi01Ny4yIDE1LTYyLjIgMTEuNi03OS4yIDExLjQtMTM1LjYtMS0zMi40LTctMzguNi05LTUyLTE2LjgtMjEuNC0xMi42LTI0LjItMTQuOC0yNC4yLTE5LjQgMC02LjIgMTAuMi05LjIgMzUtMTAuNCAyMi40LTEgMjguNi0yLjYgNTctMTQuMiAyMy44LTkuOCAyOS40LTEyLjggMzAuNC0xNi44IDIuMi04LjItMy0xMy4yLTI2LjgtMjUuNC0yNS44LTEzLjItMzIuMi0xOC40LTQzLjgtMzUuOC05LTEzLjYtMTAtMjEuMi0zLjYtMzMuNiA1LjQtMTAuOCAzLjYtMTUtMTEuOC0yNS40LTktNi0xNC0xMS42LTIwLjgtMjIuNi0yMy40LTM3LjgtMjUtNTAuOC03LjItNTkuOCA0LjgtMi40IDkuNC01LjQgMTAuMi02LjYgMi44LTQuMi0uNC0xNS42LTguNC0yOS0xMS42LTE5LjYtMTMuMi0yNS44LTEzLjItNTUuMiAwLTI4LjggMi42LTM3LjggMTItNDAuMiA5LTIuMiAxNC44IDEgMzUuNiAyMC4yIDI0LjggMjIuOCA0My42IDM2LjYgNjIuOCA0NS44IDggMy44IDE3LjggOS4yIDIyIDEyIDQuMiAyLjggMTQuOCA3IDIzLjQgOS4yIDguNiAyLjIgMjQuMiA2LjggMzQuOCAxMC4yIDEzLjQgNC40IDIzLjYgNi40IDMzIDYuNiAxMi44LjIgMTQuMi0uMiAxOC42LTUuNCA0LTQuOCA0LjgtNy44IDQuOC0xOS4yIDAtMTQuNCA1LjYtMzkuNiAxMS4yLTUwLjYgNC4yLTguNCAyOS4yLTM0LjIgMzkuOC00MS40IDcuOC01LjQgMzUuNi0xNiA1Mi0yMCAxNC4yLTMuNiAzMi42LTEuMiA1Mi40IDYuOHoiLz48L3N2Zz4=);
    }
    
    
    
    
    
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #311B92;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #4285F4 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #4285F4 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #4285F4 !important;
  }

  .toTop {
    background: #FF3366 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #FF3366;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #FF3366;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #FF3366;
  }

  .post-toc a:hover {
    color: #311B92;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    <script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?81dfda149eeb41fe67d44c4b960869ae';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#算法梗概"><span class="post-toc-number">2.</span> <span class="post-toc-text">算法梗概</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基于-API-有的放矢-效率高"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">基于 API, 有的放矢, 效率高</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#无序理解-倒序寻找关键词"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">无序理解, 倒序寻找关键词</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数据格式"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">数据格式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#副词互斥-避免只找关键词的二义性"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">副词互斥, 避免只找关键词的二义性</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#增加理解深度-理解上下文"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">增加理解深度, 理解上下文</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#实践"><span class="post-toc-number">3.</span> <span class="post-toc-text">实践</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#第一次迭代"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">第一次迭代</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#问题有以下几个"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">问题有以下几个</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#改进思路"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">改进思路:</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#调试日志"><span class="post-toc-number">3.1.3.</span> <span class="post-toc-text">调试日志:</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#讯飞返回数据"><span class="post-toc-number">3.1.3.1.</span> <span class="post-toc-text">讯飞返回数据</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#日志-部分"><span class="post-toc-number">3.1.3.2.</span> <span class="post-toc-text">日志(部分)</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#第二次迭代"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">第二次迭代</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#上一版问题"><span class="post-toc-number">3.2.1.</span> <span class="post-toc-text">上一版问题</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#第二版改进思路"><span class="post-toc-number">3.2.2.</span> <span class="post-toc-text">第二版改进思路</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#调试日志-1"><span class="post-toc-number">3.2.3.</span> <span class="post-toc-text">调试日志:</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#详细理解过程-语义理解Debug输出"><span class="post-toc-number">3.2.3.1.</span> <span class="post-toc-text">详细理解过程(语义理解Debug输出)</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#简洁结果日志-测试用例全部通过"><span class="post-toc-number">3.2.3.2.</span> <span class="post-toc-text">简洁结果日志(测试用例全部通过)</span></a></li></ol></li></ol></li></ol></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://on74pxnsk.bkt.clouddn.com/blog-thumb-11.jpg)">
    
            <p class="article-headline-p">
                乐驾 - 语义理解算法
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="http://on74pxnsk.bkt.clouddn.com/avatar.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Jianing Wang</strong>
        <span>6月 14, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC2UlEQVR42u3aUW7CMBAEUO5/6fYALTDjTatgv3whBMQvlbryjB9fR14PbGxsbGxsbGxs7FuyH/H181s/f+HZO8++9cviyjsWa8bGxsbemv3mX38JeL30CWm0ZmxsbOwD2Mlt1hbUDpv2oScrwcbGxsaes/Px9vpxYGNjY2PP2e1oWRtvyUjDxsbGxm4DmmRB+fBLYqlbZGnY2NjYt2fnoc99Xv9rv42NjY19Y3Z7tduSZNisHeKpV46NjY29Kbs9LnMV4PWATI5+1lEUNjY29tbsvFJ9E9yUC2rjqig8evZJbGxs7GPYSVk7P0Z51aGc5JPY2NjYJ7DbkGhycCevmfMDQBecVMLGxsb+WPZapZrfrFhW8LDa4z7Y2NjYJ7DzUCaP+/PPtPFTewQTGxsb+2R2W8q27+RbkckxTWxsbOwT2O3hm7WHkkf5+dbigh0YNjY29kbstjRt69j5Y80rhGgrgo2Njb01uw13JjVt+7DywYmNjY19JvuqB5GHUHm1PIm6sLGxsfdmTzYhk/g+32a0dfLTPyQ2Njb21uxJ1drWvfk2Zm2ALR7ZwcbGxv5Y9iSsycvXqIhd2vDka8PGxsbem51vHtqqtS2DJwFTPcCwsbGxt2O3h2zyuKcdVNduhLCxsbFPY08Co0lUlJcW+fjExsbGPoGdhEf5qJtXAmtlcLRabGxs7K3Z80WsbUgmr9uYCRsbG/sE9tqmoh1Lk/p2FFdhY2NjH8BuA/oJb61mzodWPbexsbGxP5bdXmsjJykb2uI2L5uxsbGx92YvBjTt8AjG3tqALIoEbGxs7K3Za8FQMlSSd/L6IY+3FlsRbGxs7A9nJwNpUuiuRfyPwYWNjY2NnRcG82/lBUN7d2xsbGzsdkH5kJvHVfnBI2xsbOwT2PmGYS1CauOktQ3Jn2Rp2NjY2Ldntz83GTztYGvvWAwwbGxs7C3Y51zY2NjY2NjY2NjYt7m+Aa85zYCSqJZ/AAAAAElFTkSuQmCC">
    
</ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Algorithm/">Algorithm</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Swift/">Swift</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/iOS/">iOS</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=乐驾 - 语义理解算法&url=http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=乐驾 - 语义理解算法&url=http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html&via=Jianing Wang" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2017/06/14/乐驾-语义理解算法/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>介绍乐驾在做语义理解与语音控制的过程和思路. 算法是在讯飞提供分词的基础上来实现的.</p>
<a id="more"></a>
<p><img src="http://on74pxnsk.bkt.clouddn.com/lejia-all-thumb.jp2" alt="image"></p>
<p>关键词:</p>
<ul>
<li>基于 API, 有的放矢, 效率高</li>
<li>无序理解, 倒序寻找关键词</li>
<li>副词互斥, 避免只找关键词的二义性</li>
<li>元组多维结果, 增加理解深度, 理解上下文</li>
</ul>
<h2 id="算法梗概"><a href="#算法梗概" class="headerlink" title="算法梗概"></a>算法梗概</h2><p>乐驾的愿景是让用户在脱离双手的情况下控制整个应用, 包括地图导航, 油价查询, 音乐电台, 汽车状态播报, 违章查询等功能. 所以, 在乐驾中, 对语义理解的要求是单方面精准理解, 而不求大而泛. 因为整个应用就做了这么多功能, 不管我们怎么理解其他语句, 我们本身并不能提供相关的 API 来支持. </p>
<h3 id="基于-API-有的放矢-效率高"><a href="#基于-API-有的放矢-效率高" class="headerlink" title="基于 API, 有的放矢, 效率高"></a>基于 API, 有的放矢, 效率高</h3><p>前期, 我尝试过两种思路来理解一句话. 第一种是从理解句子的角度来想, 太麻烦了, 句子千变万化.</p>
<p>第二种是从我能提供的 API 有哪些的角度来出发, 为什么这样考虑, <strong>如果不是基于一种操作来写语义理解的过程, 就算你理解了这句话, 然而你并无相关的操作来满足这句话的要求.</strong></p>
<p>所以, 从 API 的角度来说, 能极大的提高算法的效率.</p>
<p>举个例子:</p>
<ol>
<li>播放英文歌曲</li>
<li>我想播放英文歌曲</li>
<li>我要播放英文歌曲</li>
<li>乐驾, 给我播放英文歌曲</li>
<li>今天心情比较开心, 给我播放英文歌曲</li>
</ol>
<p>如果按<strong>第一种思路</strong>来的话:</p>
<p>对于第二和第三种情况, 我想 / 我要 这种代表多级操作的词, 没有任何意义. 所以需要去掉这种无用的词, 然后再判断交给哪个二级操作或者一级操作.</p>
<p>对于第四和第五种情况, 有些某些无关的状语从句, 还是要在分词的基础上判断有无关键词.</p>
<p>如果按<strong>第二种思路</strong>来的话: (在分词的基础上)</p>
<p>先找 <code>播放</code> 再找 <code>英文</code> 或者 <code>中文</code> 关键字, 就可以完成操作了. </p>
<h3 id="无序理解-倒序寻找关键词"><a href="#无序理解-倒序寻找关键词" class="headerlink" title="无序理解, 倒序寻找关键词"></a>无序理解, 倒序寻找关键词</h3><blockquote>
<p>“研表究明，汉字的序顺并不定一能影阅响读，比如当你看完这句话后，才发这现里的字全是乱的。”<br>人眼在阅读, 大脑在处理信息的时候, 是不分顺序的, 所以无顺序的信息不影响理解.</p>
</blockquote>
<p>关键字更是一种具有操作意义的词.</p>
<p>不是完全倒序, 是按照重要程度的倒序, 由里到外的顺序, 操作API的顺序.</p>
<p>为什么要简化呢, 举个例子, 因为我不管多么的理解 <code>播放英文男歌手的歌曲</code> 这句话, 我没有相关的操作啊, 我就算知道了用户干嘛, 底层没有给我相关的API, 我也束手无策.</p>
<p>中文的习惯是把重要的放在后面</p>
<p><strong>倒序, 倒着才符合中文逻辑</strong></p>
<h3 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h3><p>数据格式的选取, 考虑到横向和纵向都有无限的层级, 我没有选取树, 而是选用了 JSON / XML 这种可以无限嵌套的数据格式.</p>
<p>目前是<strong>人为训练模型</strong></p>
<h3 id="副词互斥-避免只找关键词的二义性"><a href="#副词互斥-避免只找关键词的二义性" class="headerlink" title="副词互斥, 避免只找关键词的二义性"></a>副词互斥, 避免只找关键词的二义性</h3><p>只找关键词是远远不够的, 还要找一些副词. 一来判断用户的情感, 当然了, 只有 “是” 与 “不是” 两个等级. 二来进一步判断用户的意图, 例如用户关于某个问题的意图是 “是什么” 还是 “为什么”.</p>
<h3 id="增加理解深度-理解上下文"><a href="#增加理解深度-理解上下文" class="headerlink" title="增加理解深度, 理解上下文"></a>增加理解深度, 理解上下文</h3><p>关于理解深度的问题, 有些问题具有上下文语境, 例如:</p>
<ul>
<li>我的车辆状态怎么样<ul>
<li>您的哪一辆车辆? (奥迪A4, 大众宝来, 沃尔沃S90)<ul>
<li>奥迪A4<ul>
<li>您的奥迪A4, 已行驶45466公里, 发动机和变速器性能正常, 车灯性能异常.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>这是一个具有上下文的对话. 在”人工训练模型”中, 深度值已标明, 在返回结果的时候, 元组中有一位是代表深度值, 如果不是 0, 则需要自动监听并继续识别和理解.</p>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><p>目前算法经历了两次迭代, 因为测试日志过于冗长, 只贴部分:</p>
<h3 id="第一次迭代"><a href="#第一次迭代" class="headerlink" title="第一次迭代"></a>第一次迭代</h3><ul>
<li>无上下文</li>
<li>语音指令结构简单</li>
<li>递归理解</li>
</ul>
<p>第一版算法对于测试用例, 经过调试之后, 全部通过, 然而对于实际语音的输入产生了很多问题, 只能说想法在落地的时候, 摔的比较惨.</p>
<h4 id="问题有以下几个"><a href="#问题有以下几个" class="headerlink" title="问题有以下几个"></a>问题有以下几个</h4><ol>
<li>语义理解的分词不够细致, 出现问题比如: “限行”, 然而讯飞给的是 “限”, “行”, 导致无法理解</li>
<li>没有对空白输入进行过滤, 在对讯飞关闭标点符号之后, 原本属于输入标点符号的参数, 变成了空, 应该对其进行过滤</li>
<li>没有对输入进行一定程度的合成.</li>
<li>提取参数除了问题, 按照之前的设想, “导航去中心校区”, 分为[“导航”,”去”,”中心校区”], 没有任何问题, 现在讯飞给的是[“导航”,”去”,”中心”,”校区”], 只提取了 “校区”, 而没有”中心”, 所以, 需要进行合成并提取参数.</li>
</ol>
<h4 id="改进思路"><a href="#改进思路" class="headerlink" title="改进思路:"></a>改进思路:</h4><ol>
<li>将结构化语义关键词进行细化.</li>
<li>需要添加粗处理阶段, 由1.问题导致出现许多无关词汇, 比如 “的”, “我”</li>
<li>粗处理阶段过后, 且能理解的情况下, 要进行参数合成</li>
<li>粗处理阶段过后, 如果不能理解, 则需要进行关键词合成</li>
</ol>
<h4 id="调试日志"><a href="#调试日志" class="headerlink" title="调试日志:"></a>调试日志:</h4><h5 id="讯飞返回数据"><a href="#讯飞返回数据" class="headerlink" title="讯飞返回数据"></a>讯飞返回数据</h5><pre class=" language-json"><code class="language-json"><span class="token punctuation">{</span>
 <span class="token property">"sn"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
 <span class="token property">"ls"</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
 <span class="token property">"bg"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token property">"ed"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
 <span class="token property">"ws"</span><span class="token operator">:</span><span class="token punctuation">[</span>
   <span class="token punctuation">{</span>
     <span class="token property">"bg"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">"cw"</span><span class="token operator">:</span><span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         <span class="token property">"sc"</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token punctuation">,</span>
         <span class="token property">"w"</span><span class="token operator">:</span><span class="token string">"搜索"</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token property">"bg"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">"cw"</span><span class="token operator">:</span><span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         <span class="token property">"sc"</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token punctuation">,</span>
         <span class="token property">"w"</span><span class="token operator">:</span><span class="token string">"附近"</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token property">"bg"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">"cw"</span><span class="token operator">:</span><span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         <span class="token property">"sc"</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token punctuation">,</span>
         <span class="token property">"w"</span><span class="token operator">:</span><span class="token string">"的"</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token property">"bg"</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">"cw"</span><span class="token operator">:</span><span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         <span class="token property">"sc"</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token punctuation">,</span>
         <span class="token property">"w"</span><span class="token operator">:</span><span class="token string">"加油站"</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<h5 id="日志-部分"><a href="#日志-部分" class="headerlink" title="日志(部分)"></a>日志(部分)</h5><pre><code>
[&quot;搜索&quot;, &quot;中心校区&quot;],❓
---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** [&quot;搜索&quot;, &quot;中&quot;, &quot;心&quot;, &quot;校&quot;, &quot;区&quot;] ** ----
---- ** 搜索中心校区 ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;搜索&quot;, &quot;中&quot;, &quot;心&quot;, &quot;校&quot;, &quot;区&quot;]
* 深度:     0
* 方法:     searchLocal
* 参数:     [&quot;区&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** [&quot;搜索&quot;, &quot;中心&quot;, &quot;校区&quot;] ** ----
---- ** 搜索中心校区 ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;搜索&quot;, &quot;中心&quot;, &quot;校区&quot;]
* 深度:     0
* 方法:     searchLocal
* 参数:     [&quot;校区&quot;]
* 描述:     
********************************


[&quot;导航&quot;, &quot;洪家楼&quot;],[&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;]❓
---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** [&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;] ** ----
---- ** 导航洪家楼 ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;]
* 深度:     0
* 方法:     naviLocal
* 参数:     [&quot;楼&quot;]
* 描述:     
********************************

[&quot;下一首&quot;],❓
---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** [&quot;下&quot;, &quot;一&quot;, &quot;首&quot;] ** ----
---- ** 下一首 ** ----

********************************
* 理解失败 😡
* 指令:     [&quot;下&quot;, &quot;一&quot;, &quot;首&quot;]
* 描述:     
********************************

[&quot;播放&quot;,&quot;英文&quot;,&quot;歌曲&quot;],
---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** [&quot;播放&quot;, &quot;英文&quot;, &quot;歌曲&quot;] ** ----
---- ** 播放英文歌曲 ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;播放&quot;, &quot;英文&quot;, &quot;歌曲&quot;]
* 深度:     0
* 方法:     muiscPlayEnglish
* 参数:     []
* 描述:     
********************************
</code></pre><h3 id="第二次迭代"><a href="#第二次迭代" class="headerlink" title="第二次迭代"></a>第二次迭代</h3><p>针对上一版算法出现的各种问题, 进行改进和得到的结果.</p>
<h4 id="上一版问题"><a href="#上一版问题" class="headerlink" title="上一版问题"></a>上一版问题</h4><ol>
<li>语义理解的分词不够细致, 出现问题比如: “限行”, 然而讯飞给的是 “限”, “行”, 导致无法理解</li>
<li>没有对空白输入进行过滤, 在对讯飞关闭标点符号之后, 原本属于输入标点符号的参数, 变成了空, 应该对其进行过滤</li>
<li>没有对输入进行一定程度的合成.</li>
<li>提取参数除了问题, 按照之前的设想, “导航去中心校区”, 分为[“导航”,”去”,”中心校区”], 没有任何问题, 现在讯飞给的是[“导航”,”去”,”中心”,”校区”], 只提取了 “校区”, 而没有”中心”, 所以, 需要进行合成并提取参数.</li>
</ol>
<h4 id="第二版改进思路"><a href="#第二版改进思路" class="headerlink" title="第二版改进思路"></a>第二版改进思路</h4><p>针对以上4个问题</p>
<ol>
<li>对于讯分分词过于细致的问题, 做了两方面的改进. 第一方面, 如果是具有操作意义的命令关键词, 则改进原来的结构化语义关键词, 使其能理解更加细致的话</li>
<li>过滤了空白以及标点符号.</li>
<li>此项并没有改进, 而是选择了另一种解决方式, “粗处理”. 不对输入进行合成, 而是先粗处理把无关的次去掉, 交给语义理解部分, 如果理解了, 则对剩余部分进行合成, 而不是一开始对输入进行粗合成.</li>
<li>调整了匹配关键词与子层操作顺序调整, 当该层且该区的关键词全部匹配且删除之后, 交给子层操作. 加上第三步, 变能得到细致的输出.</li>
</ol>
<h4 id="调试日志-1"><a href="#调试日志-1" class="headerlink" title="调试日志:"></a>调试日志:</h4><h5 id="详细理解过程-语义理解Debug输出"><a href="#详细理解过程-语义理解Debug输出" class="headerlink" title="详细理解过程(语义理解Debug输出)"></a>详细理解过程(语义理解Debug输出)</h5><pre><code>---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 导航去附近的加油站 ** ----
---- ** 分词指令: [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;加油站&quot;] ** ----
---- ** 粗处理指令: [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;加油站&quot;] ** ----


- 当前层级为: 1 层 -
 - 当前区块为: 1 区 -
 1. 关键词为: 搜索
   正在查找是否包含关键词: 搜索...
 2. 关键词为: 查找
   正在查找是否包含关键词: 查找...
 3. 关键词为: 寻找
   正在查找是否包含关键词: 寻找...
 4. 关键词为: 在哪
   正在查找是否包含关键词: 寻找...
 4. 关键词为: 在哪
   正在查找是否包含关键词: 在哪...
 - 1 区结束 -
没有找到匹配的关键词!!
-- 1 层结束 --

- 当前层级为: 1 层 -
 - 当前区块为: 2 区 -
 1. 关键词为: 地图
   正在查找是否包含关键词: 地图...
 - 2 区结束 -
没有找到匹配的关键词!!
-- 1 层结束 --

- 当前层级为: 1 层 -
 - 当前区块为: 3 区 -
 1. 关键词为: 导航
   正在查找是否包含关键词: 导航...
   匹配到关键词: 导航!!!
 2. 关键词为: 去
   正在查找是否包含关键词: 去...
   匹配到关键词: 去!!!
 3. 关键词为: 怎么走
   正在查找是否包含关键词: 怎么走...
 4. 关键词为: 走
   正在查找是否包含关键词: 走...
 5. 关键词为: 驾车
   正在查找是否包含关键词: 驾车...
 6. 关键词为: 驾车去
   正在查找是否包含关键词: 驾车去...
 7. 关键词为: 导航去
   正在查找是否包含关键词: 导航去...
有子层

- 当前层级为: 2 层 -
 - 当前区块为: 1 区 -
 1. 关键词为: 附近的
   正在查找是否包含关键词: 附近的...
 2. 关键词为: 周围的
   正在查找是否包含关键词: 周围的...
 3. 关键词为: 四周的
   正在查找是否包含关键词: 四周的...
 4. 关键词为: 前方的
   正在查找是否包含关键词: 前方的...
 5. 关键词为: 最近的
   正在查找是否包含关键词: 最近的...
 6. 关键词为: 近一点的
   正在查找是否包含关键词: 近一点的...
 7. 关键词为: 附近
   正在查找是否包含关键词: 附近...
   匹配到关键词: 附近!!!
 8. 关键词为: 周围
   正在查找是否包含关键词: 周围...
 9. 关键词为: 四周
   正在查找是否包含关键词: 四周...
 10. 关键词为: 前方
   正在查找是否包含关键词: 前方...
 11. 关键词为: 最近
   正在查找是否包含关键词: 最近...
 12. 关键词为: 近一点
   正在查找是否包含关键词: 近一点...
没有子层
********************************
* 该层可以执行操作
* 用户原始指令:  导航去附近的加油站
* 操作方法名称:  naviPOI
* 操作参数个数:  1
* 操作参数名称:  [&quot;加油站&quot;]
* 该层已经执行操作
********************************
子层发现并已经执行了操作

********************************
* 理解成功 😄
* 指令:     [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;加油站&quot;]
* 深度:     0
* 方法:     naviPOI
* 参数:     [&quot;加油站&quot;]
* 描述:     
********************************
</code></pre><h5 id="简洁结果日志-测试用例全部通过"><a href="#简洁结果日志-测试用例全部通过" class="headerlink" title="简洁结果日志(测试用例全部通过)"></a>简洁结果日志(测试用例全部通过)</h5><pre><code>---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 搜索四周的医院 ** ----
---- ** 分词指令: [&quot;搜索&quot;, &quot;四周&quot;, &quot;的&quot;, &quot;医院&quot;] ** ----
---- ** 粗处理指令: [&quot;搜索&quot;, &quot;四周&quot;, &quot;医院&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;搜索&quot;, &quot;四周&quot;, &quot;的&quot;, &quot;医院&quot;]
* 深度:     0
* 方法:     searchPOI
* 参数:     [&quot;医院&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 搜索中心校校\345\214区 ** ----
---- ** 分词指令: [&quot;搜索&quot;, &quot;中心&quot;, &quot;校区&quot;] ** ----
---- ** 粗处理处理\346\214指处理\346\214指\344\273令: [&quot;搜索&quot;, &quot;中心&quot;, &quot;校区&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;搜索&quot;, &quot;中心&quot;, &quot;校区&quot;]
* 深度:     0
* 方法:     searchLocal
* 参数:     [&quot;中心校区&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 导航洪家楼 ** ----
---- ** 分词指令: [&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;] ** ----
---- ** 粗处理指令: [&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;导航&quot;, &quot;洪&quot;, &quot;家&quot;, &quot;楼&quot;]
* 深度:     0
* 方法:     naviLocal
* 参数:     [&quot;洪家楼&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 去附近的酒店 ** ----
---- ** 分词指令: [&quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;酒店&quot;] ** ----
---- ** 粗处理指令: [&quot;去&quot;, &quot;附近&quot;, &quot;酒店&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;酒店&quot;]
* 深度:     0
* 方法:     naviPOI
* 参数:     [&quot;酒店&quot;]
* 描述:     
********************************


---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 这句话不可能理解 ** ----
---- ** 分词指令: [&quot;这&quot;, &quot;句&quot;, &quot;话&quot;, &quot;不&quot;, &quot;可能&quot;, &quot;理解&quot;] ** ----
---- ** 粗处理指令: [&quot;这&quot;, &quot;句&quot;, &quot;话&quot;, &quot;不&quot;, &quot;可能&quot;, &quot;理解&quot;] ** ----

********************************
* 理解失败 😡
* 指令:     [&quot;这&quot;, &quot;句&quot;, &quot;话&quot;, &quot;不&quot;, &quot;可能&quot;, &quot;理解&quot;]
* 描述:     
********************************


---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 导航去附近的加油站 ** ----
---- ** 分词指令: [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;加油站&quot;] ** ----
---- ** 粗处理指令: [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;加油站&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;导航&quot;, &quot;去&quot;, &quot;附近&quot;, &quot;的&quot;, &quot;加油\347\253站&quot;]
* 深度:     0
* 方法:     naviPOI
* 参数:     [&quot;去加数:     [&quot;去加\346数:     [&quot;去加油站&quot;]
* 描述:     
********************************


---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 去周围的酒店 ** ----
---- ** 分词指令: [&quot;去&quot;, &quot;周围&quot;, &quot;的&quot;, &quot;酒店&quot;] ** ----
---- ** 粗处理指令: [&quot;去&quot;, &quot;周围&quot;, &quot;酒店&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;去&quot;, &quot;周围&quot;, &quot;的&quot;, &quot;酒店&quot;]
* 深度:     0
* 方法:     naviPOI
* 参数:     [&quot;酒店&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 去中心校区 ** ----
---- ** 分词指令: [&quot;去&quot;, &quot;中心&quot;, &quot;校区&quot;] ** ----
---- ** 粗处理指令: [&quot;去&quot;, &quot;中心&quot;, &quot;校区&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;去&quot;, &quot;中心&quot;, &quot;校区&quot;]
* 深度:     0
* 方法:     naviLocal
* 参数:     [&quot;中心校区&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 驾车去趵突泉 ** ----
---- ** 分词指令: [&quot;驾车&quot;, &quot;去&quot;, &quot;趵突泉&quot;] ** ----
---- ** 粗处理指令: [&quot;驾车&quot;, &quot;去&quot;, &quot;趵突泉&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;驾车&quot;, &quot;去&quot;, &quot;趵突泉&quot;]
* 深度:     0
* 方法:     naviLocal
* 参数:     [&quot;驾车趵突泉&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 我要去千佛山 ** ----
---- ** 分词指令: [&quot;我&quot;, &quot;要&quot;, &quot;去&quot;, &quot;千佛山&quot;] ** ----
---- ** 粗处理指令: [&quot;去&quot;, &quot;千佛山&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;我&quot;, &quot;要&quot;, &quot;去&quot;, &quot;千佛山&quot;]
* 深度:     0
* 方法:     naviLocal
* 参数:     [&quot;千佛山&quot;]
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 打开音乐加油界面 ** ----
---- ** 分词指令: [&quot;打开&quot;, &quot;音乐&quot;, &quot;加油&quot;, &quot;界面&quot;] ** ----
---- ** 粗处理指令: [&quot;打开&quot;, &quot;音乐&quot;, &quot;加油&quot;, &quot;界面&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;打开&quot;, &quot;音乐&quot;, &quot;加油&quot;, &quot;界面&quot;]
* 深度:     0
* 方法:     showRefuel
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 预约加油 ** ----
---- ** 分词指令: [&quot;预约&quot;, &quot;加油&quot;] ** ----
---- ** 粗处理指令: [&quot;预约&quot;, &quot;加油&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;预约&quot;, &quot;加油&quot;]
* 深度:     0
* 方法:     showRefuel
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理始理解 ** ----
---- ** 原始始指令: 加油订单 ** ----
---- ** 分词指令: [&quot;加油&quot;, &quot;订单&quot;] ** ----
---- ** 粗处理指令: [&quot;加油&quot;, &quot;订单&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;加油&quot;, &quot;订单&quot;]
* 深度:     0
* 方法:     speechOrder
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 我订原有哪些 ** ----
---- ** 分词指令: [&quot;我&quot;, &quot;的&quot;, &quot;订单&quot;, &quot;有&quot;, &quot;哪些&quot;] ** ----
---- ** 粗处理指令: [&quot;订单&quot;, &quot;有&quot;, &quot;哪些&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;我&quot;, &quot;的&quot;, &quot;订单&quot;, &quot;有&quot;, &quot;哪些&quot;]
* 深度:     0
* 方法:     showOrder
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 上一首 ** ----
---- ** 分词指令: [&quot;上&quot;, &quot;一&quot;, &quot;首&quot;] ** ----
---- ** 粗处理指令: [&quot;上&quot;, &quot;一&quot;, &quot;首&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;上&quot;, &quot;一&quot;, &quot;首&quot;]
* 深度:     0
* 方法:     muiscPre
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 下一首 ** ----
---- ** 分词指令: [&quot;下&quot;, &quot;一&quot;, &quot;首&quot;] ** ----
---- ** 粗处理指令: [&quot;下&quot;, &quot;一&quot;, &quot;首&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;下&quot;, &quot;一&quot;, &quot;首&quot;]
* 深度:     0
* 方法:     muiscNext
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 播放英文歌曲 ** ----
---- ** 分词指令: [&quot;播放&quot;, &quot;英文&quot;, &quot;歌曲&quot;] ** ----
---- ** 粗处理指令: [&quot;播放&quot;, &quot;英文&quot;, &quot;歌曲&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;播放&quot;, &quot;英文&quot;, &quot;歌曲&quot;]
* 深度:     0
* 方法:     muiscPlayEnglish
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 你的车辆状态怎么样 ** ----
---- ** 分词指令: [&quot;你&quot;, &quot;的&quot;, &quot;车辆&quot;, &quot;状态&quot;, &quot;怎么样&quot;] ** ----
---- ** 粗处理指令: [&quot;你&quot;, &quot;车辆&quot;, &quot;状态&quot;, &quot;怎么样&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;你&quot;, &quot;的&quot;, &quot;车辆&quot;, &quot;状态&quot;, &quot;怎么样&quot;]
* 深度:     0
* 方法:     askWhichCar&amp;&amp;speechCarInfo
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 我有违章吗 ** ----
---- ** 分词指令: [&quot;我&quot;, &quot;有&quot;, &quot;违章&quot;, &quot;吗&quot;] ** ----
---- ** 粗处理指令: [&quot;有&quot;, &quot;违章&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;我&quot;, &quot;有&quot;, &quot;违章&quot;, &quot;吗&quot;]
* 深度:     0
* 方法:     askWhichCar&amp;&amp;speech?Info
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 车辆有违章信息吗 ** ----
---- ** 分词指令: [&quot;车辆&quot;, &quot;有&quot;, &quot;违章&quot;, &quot;信息&quot;, &quot;吗&quot;] ** ----
---- ** 粗处理指令: [&quot;车辆&quot;, &quot;有&quot;, &quot;违章&quot;, &quot;信息&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;车辆&quot;, &quot;有&quot;, &quot;违章&quot;,&quot;信息&quot;, &quot;吗&quot;]
* 深度:     0
* 方法:     askWhichCar&amp;&amp;speech?Info
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 帮我查一下违章信息 ** ----
---- ** 分词指令: [&quot;帮我&quot;, &quot;查&quot;, &quot;一下&quot;, &quot;违章&quot;, &quot;信息&quot;] ** ----
---- ** 粗处理指令: [&quot;查&quot;, &quot;一下&quot;, &quot;违章&quot;, &quot;信息&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;帮我&quot;, &quot;查&quot;, &quot;一下&quot;, &quot;违章&quot;, &quot;信息&quot;]
* 深度:     0
* 方法:     showLifestyle
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 明天天气怎么样 ** ----
---- ** 分词指令: [&quot;明天&quot;, &quot;天气&quot;, &quot;怎么样&quot;] ** ----
---- ** 粗处理指令: [&quot;明天&quot;, &quot;天气&quot;, &quot;怎么样&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;明天&quot;, &quot;天气&quot;, &quot;怎么样&quot;]
* 深度:     0
* 方法:     speechWeatherTomorrow
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 后天适合洗车吗 ** ----
---- ** 分词指令: [&quot;后天&quot;, &quot;适合&quot;, &quot;洗车&quot;, &quot;吗&quot;] ** ----
---- ** 粗处理指令: [&quot;后天&quot;, &quot;适合&quot;, &quot;洗车&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;后天&quot;, &quot;适合&quot;, &quot;洗车&quot;, &quot;吗&quot;]
* 深度:     0
* 方法:     speechWashCarAfterTomorrow
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 限行规则是什么 ** ----
---- ** 分词指令: [&quot;限&quot;, &quot;行&quot;, &quot;规则&quot;, &quot;是&quot;, &quot;什么&quot;] ** ----
---- ** 粗处理指令: [&quot;限&quot;, &quot;行&quot;, &quot;规则&quot;, &quot;是&quot;, &quot;什么&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;限&quot;, &quot;行&quot;, &quot;规则&quot;, &quot;是&quot;, &quot;什么&quot;]
* 深度:     0
* 方法:     限行规则
* 参数:     []
* 描述:     
********************************

---- ** SpeechManager ** ----
---- ** 开始理解 ** ----
---- ** 原始指令: 前方有加油站吗 ** ----
---- ** 分词指令: [&quot;前方&quot;, &quot;有&quot;, &quot;加油站&quot;, &quot;吗&quot;] ** ----
---- ** 粗处理指令: [&quot;前方&quot;, &quot;有&quot;, &quot;加油站&quot;] ** ----

********************************
* 理解成功 😄
* 指令:     [&quot;前方&quot;, &quot;有&quot;, &quot;加油站&quot;, &quot;吗&quot;]
* 深度:     0
* 方法:     searchPOI
* 参数:     [&quot;加油站&quot;]
* 描述:     
********************************
</code></pre>
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2017/06/14/乐驾-语义理解算法/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2017/06/14/乐驾-语义理解算法/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//jianings-blog.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/06/27/关于Jianing-s-Blog/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/04/07/一场由海绵宝宝引发的编程大案/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(http://on74pxnsk.bkt.clouddn.com/sidebar_header.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="http://on74pxnsk.bkt.clouddn.com/avatar.jpg" alt="Jianing Wang's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        wjnmailg@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: wjnmailg@gmail.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">九月 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">八月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Inbox/">Inbox<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Thoughts/">Thoughts<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Tips/">Tips<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/iOS/">iOS<span class="sidebar_archives-count">9</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/timeline" title="时轴">
                
                    <i class="material-icons sidebar-material-icons">access_time</i>
                
                时轴
            </a>
        </li>
        
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">bookmark</i>
                
                标签
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/gallery" title="映像">
                
                    <i class="material-icons sidebar-material-icons">collections</i>
                
                映像
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="友链">
                
                    <i class="material-icons sidebar-material-icons">share</i>
                
                友链
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/SteveWjnmailg" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Jianing's Blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#2299DD'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #2299DD, 0 0 15px #2299DD'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#2299DD',
        'border-left-color': '#2299DD'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//jianings-blog.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
